#include "App.h"
using namespace std;

map<string, vector<string>> create_brush_map();
void validate_brush_map(map<string, vector<string>> brush_map);

int main()
{
	const string version = "v0.1.0";
	map<string, vector<string>> brush_map = create_brush_map();
	validate_brush_map(brush_map);
	App app(version, brush_map);
	app.run();
	return 0;
}

map<string, vector<string>> create_brush_map()
{
	// Some symbols might not render correctly here but still can in terminals.
	return {
		{ "0", { "choose with your keyboard" }},
		{ "1", { "â”‚â”€â”¼â”´â”œâ”¬â”¤â”˜â””â”Œâ”" }},
		{ "2", { "â•‘â•â•¬â•©â• â•¦â•£â•â•šâ•”â•—" }},

		// The characters below can be changed freely.
		{ "3", { "â–ˆ", "â–“", "â–’", "â–Œ", "â–", "â–„", "â–€", "â– ", "â–¬", "â–", "â–‚", "â–ƒ", "â–”", "â––", "â–—", "â–˜", "â–", "â–™", "â–›", "â–œ", "â–Ÿ", "â–š", "â–"  }},
		{ "4", { "ğŸ”³", "ğŸ”²", "â¬œ", "ğŸŸ¥", "ğŸŸ§", "ğŸŸ¨", "ğŸŸ©", "ğŸŸ¦", "ğŸŸª", "ğŸŸ«", "âœ…", "â˜‘", "â", "âŒ", "âœ–", "Ã—", "â•³", "â•±", "â•²", "ğŸ›‘", "â˜¢", "â˜£", "âš ", "â—", "â•", "ğŸš·", "ğŸš«", "â›”", "ğŸ´", "ğŸ", "ğŸ³", "ğŸš©" }},
		{ "5", { "â€¦", "Â·", "â€¢", "â—˜", "â­•", "â—‹", "â—™", "Â°", "Âº", "â˜¼", "Ã¸", "â•­", "â•®", "â•¯", "â•°" }},
		{ "6", { "â†‘", "â†“", "â¬†", "â¬‡", "â–²", "â–¼", "ğŸ”¼", "ğŸ”½", "â†•", "â†¨", "â†", "â†’", "â¬…", "â¡", "â†”", "â—„", "â–º", "Â«", "Â»", "â€¹", "â€º", "â—€", "â–¶", "âª", "â©", "â®", "â­", "â¯", "â¸", "â¹", "ğŸ”" }},
		{ "7", { "Â¤", "$", "Â¢", "â‚¬", "Â£", "Â¥", "â‚§", "Â©", "Â®", "â„¢" }},
		{ "8", { "Â±", "Ã—", "â‰¤", "â‰¥", "â‰ˆ", "â‰¡", "âˆš", "âŒ ", "âŒ¡", "âˆŸ", "âŒ", "Â¬" }},
		{ "9", { "â˜º", "â˜»", "â™¥", "â™¦", "â™£", "â™ ", "ğŸƒ", "ğŸ´", "â™ª", "â™«", "âŒ‚", "âˆ©", "Â¦", "â€ ", "â€¡" }},
		{ "a", { "Î±", "ÃŸ", "Î“", "Ï€", "Î£", "Ïƒ", "Âµ", "Ï„", "Î¦", "Î˜", "Î©", "Î´", "âˆ", "Ï†", "Îµ" }},
		{ "b", { "ğŸ”’", "ğŸ”‘", "ğŸ—", "ğŸ”§", "â›", "ğŸ”¨", "ğŸª“", "ğŸ”ª", "ğŸ—¡", "âœ‚", "ğŸ¹", "ğŸ”«", "ğŸ§¨", "ğŸ’£", "ğŸ›¢", "ğŸ’‰", "ğŸ”®", "ğŸ§­", "ğŸ’Š", "ğŸ©¹", "â›‘", "ğŸ¦º", "ğŸ§¤", "ğŸ¥¾", "ğŸ›¡", "ğŸ¤¿", "ğŸ¥Š", "ğŸ§²", "ğŸ”", "ğŸ’¡", "ğŸ”¦", "ğŸ•¯", "ğŸ§°", "ğŸ“±", "ğŸ“", "â˜" }},
		{ "c", { "ğŸ’¾", "ğŸ’¿", "ğŸ“€", "ğŸ’½", "âš™", "ğŸ”", "ğŸ”’", "ğŸ”‘", "ğŸ”—", "ğŸ—‘", "ğŸ”…", "ğŸ”†", "â°", "ğŸ”ˆ", "ğŸ”‰", "ğŸ”Š", "ğŸ§", "ğŸ””", "ğŸ›’", "ğŸ’»", "ğŸ§ª", "âš—", "ğŸ”­", "âš–", "ğŸ“¿", "ğŸ§¿", "ğŸ“£", "ğŸ¥", "ğŸº", "ğŸ¸", "ğŸ“š", "ğŸ““", "ğŸ“•", "ğŸ“—", "ğŸ“˜", "ğŸ“™" }},
		{ "d", { "ğŸ’", "ğŸ›„", "ğŸ›…", "ğŸ’¼", "ğŸ‘œ", "ğŸ‘›", "ğŸ‘", "ğŸ’°", "ğŸ§", "ğŸ’²", "ğŸ’¸", "ğŸ’µ", "ğŸ’¶", "ğŸ’´", "ğŸ’·", "ğŸ’³", "ğŸ§§", "ğŸ›", "ğŸ", "ğŸ“¦", "ğŸ¥‡", "ğŸ¥ˆ", "ğŸ¥‰", "ğŸ…", "ğŸ–", "ğŸ†", "ğŸ’", "ğŸ’", "â™¦", "ğŸ°", "ğŸ²" }},
		{ "e", { "â™¥", "ğŸ’˜", "ğŸ’–", "ğŸ’—", "ğŸ’“", "ğŸ’™", "ğŸ’š", "ğŸ’›", "ğŸ’œ", "ğŸ§¡", "ğŸ’", "ğŸ’", "ğŸ’Ÿ", "ğŸ–¤", "â¤", "ğŸ’Œ", "â£", "ğŸ¤", "ğŸ¤", "ğŸ’”", "ğŸ’•" }},
		{ "f", { "ğŸ’€", "â˜ ", "ğŸ¦´", "ğŸ‘€", "ğŸ‘", "ğŸ‘£", "ğŸ¾", "ğŸ’¤", "ğŸ’¢", "ì˜·", "ğŸ¤º", "â›„", "â˜ƒ", "ğŸ¤–", "ğŸ—¿", "ğŸ‘¤", "ğŸ‘¹", "ğŸ‘¿", "ğŸ‘»", "ğŸœ", "âš°", "âš±", "ğŸº", "â›“", "ğŸ•¸", "âš”", "âš“", "ğŸ§©", "âœ‰", "ğŸ“¦", "ğŸ“ª", "ğŸ“®", "ğŸª‘" }},
		{ "g", { "ğŸ‰", "ğŸŠ", "ğŸ†", "ğŸ‡", "ğŸ’¥", "ğŸ”¥", "ğŸ©¸", "ğŸ’§", "ğŸ’¦", "ğŸŒŠ", "ğŸ§Š", "â„", "âš¡", "ğŸŒ©", "ğŸŒª", "ğŸ’¨" }},
		{ "h", { "ğŸ’", "ğŸŒ¸", "ğŸµ", "ğŸŒ¹", "ğŸŒº", "ğŸŒ»", "ğŸŒ¼", "ğŸŒ·", "ğŸ¥€", "â˜˜", "ğŸŒ±", "ğŸŒ²", "ğŸŒ³", "ğŸŒ´", "ğŸŒµ", "ğŸŒ¾", "ğŸŒ¿", "ğŸ€", "ğŸ", "ğŸ‚", "ğŸƒ" }},
		{ "i", { "ğŸŒ¡", "âŒ›", "â³", "â°", "ğŸ•", "ğŸ•‘", "ğŸ•’", "ğŸ•“", "ğŸ•”", "ğŸ••", "ğŸ•–", "ğŸ•—", "ğŸ•˜", "ğŸ•™", "ğŸ•š", "ğŸ•›", "ğŸ•œ", "ğŸ•", "ğŸ•", "ğŸ•Ÿ", "ğŸ• ", "ğŸ•¡", "ğŸ•¢", "ğŸ•£", "ğŸ•¤", "ğŸ•¥", "ğŸ•¦", "ğŸ•§" }},
		{ "j", { "ğŸŒ", "ğŸŒ", "ğŸŒ", "ğŸŒ", "ğŸª", "â˜€", "ğŸŒ", "ğŸŒ™", "ğŸŒ‘", "ğŸŒ’", "ğŸŒ“", "ğŸŒ”", "ğŸŒ•", "ğŸŒ–", "ğŸŒ—", "ğŸŒ˜", "ğŸŒš", "ğŸŒ", "ğŸŒ›", "ğŸŒœ", "ğŸŒ ", "â˜„", "â­", "ğŸŒŸ", "âœ¨", "ğŸ’«" }},
		{ "k", { "ğŸ’", "ğŸ¦", "ğŸ¦§", "ğŸ•", "ğŸˆ", "ğŸ…", "ğŸ†", "ğŸ", "ğŸ¦Œ", "ğŸ¦", "ğŸƒ", "ğŸ„", "ğŸ–", "ğŸ", "ğŸ", "ğŸª", "ğŸ¦˜", "ğŸ¦¨", "ğŸ", "ğŸ¦”", "ğŸ‡", "ğŸ¦†", "ğŸ“", "ğŸ¦", "ğŸŠ", "ğŸ¢", "ğŸ", "ğŸ‰", "ğŸ¦–", "ğŸ¦€", "ğŸ", "ğŸ¦‚", "ğŸ•·", "ğŸ¦‡", "ğŸ¦ " }},
		{ "l", { "ğŸ½", "ğŸ´", "ğŸ¥„", "ğŸ¥¢", "ğŸ¥", "ğŸ¥¥", "ğŸ‡", "ğŸˆ", "ğŸ‰", "ğŸŠ", "ğŸ‹", "ğŸŒ", "ğŸ", "ğŸ¥­", "ğŸ", "ğŸ", "ğŸ", "ğŸ‘", "ğŸ’", "ğŸ“", "ğŸ…", "ğŸ†", "ğŸŒ½", "ğŸŒ¶", "ğŸ„", "ğŸ¥‘", "ğŸ¥’", "ğŸ¥¬", "ğŸ¥¦", "ğŸ¥”", "ğŸ ", "ğŸ§„", "ğŸ§…", "ğŸ¥•", "ğŸŒ°", "ğŸ¥œ" }},
		{ "m", { "ğŸ", "ğŸ¥¯", "ğŸ¥¨", "ğŸ¥", "ğŸ§‡", "ğŸ¥", "ğŸ¥—", "ğŸ¥ª", "ğŸœ", "ğŸ¥¡", "ğŸŸ", "ğŸ¥˜", "ğŸ¥£", "ğŸ¥Ÿ", "ğŸš", "ğŸ¥«" }},
		{ "n", { "ğŸ¥§", "ğŸ¦", "ğŸ§", "ğŸ¨", "ğŸ¥®", "ğŸ¥ ", "ğŸ©", "ğŸª", "ğŸ‚", "ğŸ°", "ğŸ§", "ğŸ«", "ğŸ¬", "ğŸ­", "ğŸ¡", "ğŸ®", "ğŸ¯", "ğŸ§ƒ", "â˜•", "ğŸµ", "ğŸ§‰", "ğŸ¶", "ğŸ¾", "ğŸ·", "ğŸ¸", "ğŸ¹", "ğŸº", "ğŸ»", "ğŸ¥‚", "ğŸ¥ƒ", "ğŸ¥¤" }},
	};
}

void validate_brush_map(map<string, vector<string>> brush_map)
{
	if (brush_map.size() > 36)
	{
		ynot::print("Error: the brush map must have <= 36 rows.");
		throw std::out_of_range("The brush map must have <= 36 rows.");
	}
	size_t i = 0;
	for (const auto& row : brush_map)
	{
		size_t n = row.second.size();
		if (n > 36)
		{
			ynot::print("Error: each row in the brush map must have <= 36 elements.");
			ynot::print("\nRow " + row.first + " has " + to_string(n) + " elements.");
			throw std::out_of_range("Each row in the brush map must have <= 36 elements.");
		}
	}
}
